# FavLog アプリケーション 最適化リファクタリング指示書

## 目次

1.  [プロジェクト概要](#プロジェクト概要)
2.  [最適化の目的と目標](#最適化の目的と目標)
3.  [現状分析](#現状分析)
4.  [最適化戦略](#最適化戦略)
5.  [詳細タスクリスト](#詳細タスクリスト)
6.  [実装ガイドライン](#実装ガイドライン)
7.  [検証手順](#検証手順)
8.  [変更履歴管理](#変更履歴管理)

------------------------------------------------------------------------

## プロジェクト概要

### アプリケーション概要

FavLogは、クローズドなコミュニティ内で商品やサービスのレビューを共有するFlutter製Androidアプリケーションです。

### 技術スタック

-   **フレームワーク**: Flutter 3.10.1+, Dart
-   **状態管理**: Riverpod 2.5.1
-   **バックエンド**: Supabase (PostgreSQL, Auth, Storage)
-   **ルーティング**: go_router 17.0.0
-   **画像処理**: cached_network_image 3.3.1, flutter_image_compress
    2.4.0
-   **UI**: Material Design 3, Shimmer効果

### 主要機能

-   認証（メール認証フロー、JWT管理）
-   レビュー投稿・編集・削除（0.5単位の星評価、画像アップロード）
-   いいね・コメント機能
-   検索・フィルタリング（カテゴリ、サブカテゴリ、全文検索）
-   プロフィール管理（アバター画像）
-   レスポンシブデザイン

------------------------------------------------------------------------

## 最適化の目的と目標

### 主要目標

1.  **パフォーマンス向上**:
    アプリの起動時間、画面遷移、データ読み込み速度の改善
2.  **軽量化**: メモリ使用量の削減、バンドルサイズの最適化
3.  **コード品質向上**: 可読性、保守性、テスト容易性の改善
4.  **ユーザー体験向上**: レスポンス速度の改善、スムーズなアニメーション

### 定量的目標

-   初回起動時間: 30%削減
-   画面遷移時間: 20%削減
-   メモリ使用量: 25%削減
-   コードの重複: 40%削減
-   ビルドサイズ: 15%削減

### 重要制約

-   **既存機能の保持**: すべての機能が正常に動作すること
-   **後方互換性**: 既存のデータベーススキーマとの互換性維持
-   **段階的実装**: 機能単位でのリファクタリング実施
-   **安定実装**: 細かくテストをはさみながら実装

------------------------------------------------------------------------

## 現状分析

(以下略)
